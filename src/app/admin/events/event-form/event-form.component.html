<section class="eventFrom-page">
  <div class="title"><h1>Add an Event</h1></div>
  <form [formGroup]="eventForm" (ngSubmit)="onSubmit()" class="event-form">
    <div *ngIf="errorMessage" class="error-message">
      {{ errorMessage }}
    </div>
    <div class="form-group">
      <label for="title">Title*</label>
      <input
        type="text"
        id="title"
        formControlName="title"
        class="form-control"
      />
    </div>

    <div class="form-group">
      <label for="description">Description*</label>
      <textarea
        id="description"
        formControlName="description"
        class="form-control"
        rows="4"
      ></textarea>
    </div>

    <div class="form-row">
      <div class="form-group col-md-6">
        <label for="date">Start Date*</label>
        <input
          type="datetime-local"
          id="date"
          formControlName="date"
          class="form-control"
        />
      </div>
      <div class="form-group col-md-6">
        <label for="endDate">End Date</label>
        <input
          type="datetime-local"
          id="endDate"
          formControlName="endDate"
          class="form-control"
        />
      </div>
    </div>

    <div class="form-group">
      <label for="imageUrl">Image URL*</label>
      <input
        type="file"
        id="image"
        (change)="onFileSelected($event)"
        class="form-control"
        accept="image/*"
      />
    </div>

    <div class="form-row">
      <div class="form-group col-md-6">
        <label for="category">Category*</label>
        <select id="category" formControlName="category" class="form-control">
          <option value="concert">Concert</option>
          <option value="conference">Conference</option>
          <option value="workshop">Workshop</option>
          <option value="exhibition">Exhibition</option>
          <option value="sports">Sports</option>
        </select>
      </div>
      <div class="form-group col-md-6">
        <label for="price">Price</label>
        <input
          type="number"
          id="price"
          formControlName="price"
          class="form-control"
          min="0"
          step="0.01"
        />
      </div>
    </div>

    <div class="form-group">
      <label for="organizer">Organizer*</label>
      <input
        type="text"
        id="organizer"
        formControlName="organizer"
        class="form-control"
      />
    </div>

    <div class="form-group">
      <label for="contactEmail">Contact Email*</label>
      <input
        type="email"
        id="contactEmail"
        formControlName="contactEmail"
        class="form-control"
      />
    </div>

    <div class="form-group">
      <label for="registrationLink">Registration Link*</label>
      <input
        type="url"
        id="registrationLink"
        formControlName="registrationLink"
        class="form-control"
      />
    </div>

    <div class="form-row">
      <div class="form-group col-md-6">
        <label for="attendees">Expected Attendees</label>
        <input
          type="number"
          id="attendees"
          formControlName="attendees"
          class="form-control"
          min="0"
        />
      </div>
      <div class="form-group col-md-6">
        <div class="form-check">
          <input
            type="checkbox"
            id="isFeatured"
            formControlName="isFeatured"
            class="form-check-input"
          />
          <label for="isFeatured" class="form-check-label"
            >Featured Event</label
          >
        </div>
      </div>
    </div>

    <button
      type="submit"
      class="btn btn-primary"
      [disabled]="!eventForm.valid || isLoading"
    >
      <span *ngIf="!isLoading">{{ event ? "Update" : "Create" }} Event</span>
      <span *ngIf="isLoading">Creating...</span>
    </button>
  </form>
</section>
